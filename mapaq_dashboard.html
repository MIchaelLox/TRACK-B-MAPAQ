
        <!DOCTYPE html>
        <html lang="fr">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Dashboard MAPAQ - Pr√©diction Risques Sanitaires</title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <style>
                .stat-card { border-left: 4px solid #007bff; }
                .trend-up { color: #28a745; }
                .trend-down { color: #dc3545; }
                .trend-neutral { color: #6c757d; }
                .stat-icon { font-size: 2rem; opacity: 0.7; }
                .interactive-table { max-height: 400px; overflow-y: auto; }
                .chart-container { position: relative; height: 300px; }
            </style>
        </head>
        <body>
            <div class="container-fluid">
                <header class="py-3 mb-4 border-bottom">
                    <h1 class="h3">üè• Dashboard MAPAQ - Pr√©diction Risques Sanitaires</h1>
                    <p class="text-muted">Surveillance et analyse pr√©dictive des restaurants</p>
                </header>
                
                
        <div class="row mb-4">
            <div class="col-md-3">
        <div id="stat_total" class="card shadow-sm stat-card">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h6 class="card-subtitle text-muted">Total Restaurants</h6>
                        <h3 class="card-title">25</h3>
                        <small class="trend-up">‚Üó +5 ce mois</small>
                    </div>
                    <div class="stat-icon">üè™</div>
                </div>
            </div>
        </div>
        </div>
            <div class="col-md-3">
        <div id="stat_score" class="card shadow-sm stat-card">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h6 class="card-subtitle text-muted">Score Moyen</h6>
                        <h3 class="card-title">58.3/100</h3>
                        <small class="trend-down">‚Üò -2.3 points</small>
                    </div>
                    <div class="stat-icon">üìä</div>
                </div>
            </div>
        </div>
        </div>
            <div class="col-md-3">
        <div id="stat_risk" class="card shadow-sm stat-card">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h6 class="card-subtitle text-muted">Risque √âlev√©</h6>
                        <h3 class="card-title">8</h3>
                        <small class="trend-up">‚Üó +2 cette semaine</small>
                    </div>
                    <div class="stat-icon">‚ö†Ô∏è</div>
                </div>
            </div>
        </div>
        </div>
            <div class="col-md-3">
        <div id="stat_critical" class="card shadow-sm stat-card">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h6 class="card-subtitle text-muted">Critique</h6>
                        <h3 class="card-title">3</h3>
                        <small class="trend-neutral">‚Üí Inspection urgente</small>
                    </div>
                    <div class="stat-icon">üö®</div>
                </div>
            </div>
        </div>
        </div>
        </div>
        
                
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        
        <div id="risk_distribution_chart" class="chart-container">
            <canvas id="risk_distribution_chart_canvas"></canvas>
            <script>
                // Configuration du graphique pie
                const ctx_risk_distribution_chart = document.getElementById('risk_distribution_chart_canvas').getContext('2d');
                const chart_risk_distribution_chart = new Chart(ctx_risk_distribution_chart, {
                    type: 'pie',
                    data: {"labels": ["Critique", "\u00c9lev\u00e9", "Moyen", "Faible"], "datasets": [{"data": [3, 5, 12, 5], "backgroundColor": ["#FF6B6B", "#4ECDC4", "#45B7D1", "#96CEB4"]}]},
                    options: {"responsive": true, "plugins": {"title": {"display": true, "text": "Distribution des Cat\u00e9gories de Risque"}}}
                });
            </script>
        </div>
        
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        
        <div id="trends_chart" class="chart-container">
            <canvas id="trends_chart_canvas"></canvas>
            <script>
                // Configuration du graphique line
                const ctx_trends_chart = document.getElementById('trends_chart_canvas').getContext('2d');
                const chart_trends_chart = new Chart(ctx_trends_chart, {
                    type: 'line',
                    data: {"labels": ["Jan", "F\u00e9v", "Mar", "Avr", "Mai", "Jun"], "datasets": [{"label": "Score Moyen", "data": [58, 62, 55, 60, 58, 63], "borderColor": "#FF6B6B", "tension": 0.1}]},
                    options: {"responsive": true, "plugins": {"title": {"display": true, "text": "\u00c9volution des Scores de Risque"}}, "scales": {"y": {"beginAtZero": true, "max": 100}}}
                });
            </script>
        </div>
        
                    </div>
                </div>
            </div>
        </div>
        
                
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title">Liste des Restaurants</h5>
                        <button class="btn btn-primary btn-sm float-end" onclick="refreshTable()">
                            üîÑ Actualiser
                        </button>
                    </div>
                    <div class="card-body">
                        
        <div id="restaurants_table" class="table-responsive interactive-table">
            
            <div class="table-search mb-3">
                <input type="text" class="form-control" placeholder="Rechercher..." 
                       onkeyup="filterTable('restaurants_table_table', this.value)">
            </div>
            
            <table id="restaurants_table_table" class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr><th data-sortable="true">Restaurant</th><th data-sortable="true">Zone</th><th data-sortable="true">Score</th><th data-sortable="true">Cat√©gorie</th><th data-sortable="true">Derni√®re Inspection</th></tr>
                </thead>
                <tbody>
                    <tr><td>Restaurant Test</td><td></td><td>65.2</td><td>eleve</td><td></td></tr>
                </tbody>
            </table>
        </div>
        
                    </div>
                </div>
            </div>
        </div>
        
            </div>
            
            <script>
                // Fonctions JavaScript pour l'interactivit√©
                function filterTable(tableId, searchValue) {
                    const table = document.getElementById(tableId);
                    const rows = table.getElementsByTagName('tr');
                    
                    for (let i = 1; i < rows.length; i++) {
                        const row = rows[i];
                        const cells = row.getElementsByTagName('td');
                        let found = false;
                        
                        for (let j = 0; j < cells.length; j++) {
                            if (cells[j].textContent.toLowerCase().includes(searchValue.toLowerCase())) {
                                found = true;
                                break;
                            }
                        }
                        
                        row.style.display = found ? '' : 'none';
                    }
                }
                
                function refreshTable() {
                    location.reload();
                }
                
                // Auto-refresh toutes les 30 secondes
                setInterval(() => {
                    console.log('Auto-refresh dashboard...');
                    // Ici on pourrait faire des appels AJAX pour mettre √† jour les donn√©es
                }, 30000);
            </script>
        </body>
        </html>
        