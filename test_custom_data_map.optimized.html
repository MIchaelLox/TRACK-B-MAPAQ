 <!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Carte Interactive MAPAQ - Risques Sanitaires</title><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /><link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" /><link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><style>body{margin:0;padding:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}#map{height:100vh;width:100%;}.map-controls{position:absolute;top:10px;right:10px;z-index:1000;background:white;padding:15px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1);max-width:300px;}.restaurant-popup{min-width:250px;font-size:14px;}.popup-content p{margin:5px 0;}.popup-actions{margin-top:10px;text-align:center;}.popup-actions button{margin:2px;}.legend{position:absolute;bottom:20px;left:20px;z-index:1000;background:white;padding:15px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1);}.legend-item{display:flex;align-items:center;margin:5px 0;}.legend-color{width:20px;height:20px;border-radius:50%;margin-right:10px;}.stats-panel{position:absolute;top:10px;left:10px;z-index:1000;background:white;padding:15px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1);min-width:200px;}@media (max-width:768px){.map-controls,.stats-panel{position:relative;width:100%;margin:10px 0;}#map{height:70vh;}}</style></head><body><div class="stats-panel"><h5><i class="fas fa-chart-bar"></i> Statistiques</h5><div id="stats-content"><p><strong>Total restaurants:</strong><span id="total-count">0</span></p><p><strong>Risque critique:</strong><span id="critical-count">0</span></p><p><strong>Risque élevé:</strong><span id="high-count">0</span></p><p><strong>Risque modéré:</strong><span id="medium-count">0</span></p><p><strong>Risque faible:</strong><span id="low-count">0</span></p></div></div><div class="map-controls"><h5><i class="fas fa-sliders-h"></i> Contrôles</h5><div class="mb-3"><label class="form-label">Affichage:</label><div class="form-check"><input class="form-check-input" type="checkbox" id="show-markers" checked><label class="form-check-label" for="show-markers">Marqueurs</label></div><div class="form-check"><input class="form-check-input" type="checkbox" id="show-clusters" checked><label class="form-check-label" for="show-clusters">Clusters</label></div><div class="form-check"><input class="form-check-input" type="checkbox" id="show-heatmap"><label class="form-check-label" for="show-heatmap">Heatmap</label></div></div><div class="mb-3"><label for="risk-filter" class="form-label">Filtrer par risque:</label><select class="form-select" id="risk-filter"><option value="all">Tous les niveaux</option><option value="Critique">Critique uniquement</option><option value="Élevé">Élevé uniquement</option><option value="Modéré">Modéré uniquement</option><option value="Faible">Faible uniquement</option></select></div><button class="btn btn-primary btn-sm" onclick="resetMap()"><i class="fas fa-home"></i> Réinitialiser </button></div><div id="map"></div><div class="legend"><h6><i class="fas fa-info-circle"></i> Niveaux de risque</h6><div class="legend-item"><div class="legend-color" style="background-color: #dc3545;"></div><span>Critique (≥ 0.8)</span></div><div class="legend-item"><div class="legend-color" style="background-color: #fd7e14;"></div><span>Élevé (0.6 - 0.8)</span></div><div class="legend-item"><div class="legend-color" style="background-color: #ffc107;"></div><span>Modéré (0.3 - 0.6)</span></div><div class="legend-item"><div class="legend-color" style="background-color: #28a745;"></div><span>Faible (< 0.3)</span></div></div><script></script><script></script><script></script><script></script><script></script></body></html> 